# API请求捕获器测试步骤

## 🔧 重新加载扩展
1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 找到 "API请求捕获器" 扩展
4. 点击 🔄 重新加载按钮

## 🧪 测试步骤

### 步骤1: 打开捕获窗口
1. 点击工具栏中的扩展图标
2. 点击 "打开捕获窗口" 按钮
3. 应该会弹出一个独立窗口

### 步骤2: 开始监听
1. 在独立窗口中点击 "开始监听" 按钮
2. 按钮应该变为不可用，"停止监听" 按钮变为可用
3. 查看浏览器控制台，应该有 "🎧 开始监听" 的日志

### 步骤3: 打开测试页面
1. 在新标签页中打开 `test.html` 文件
2. 查看浏览器控制台，应该有 content script 加载的日志

### 步骤4: 测试API请求
1. 在测试页面点击 "GET 请求" 按钮
2. 查看浏览器控制台，应该有：
   - 🖱️ 检测到点击事件
   - ⏰ 点击时间已记录
   - fetch被调用
   - ✅ 捕获fetch请求
   - ✅ 请求已发送到background

### 步骤5: 检查结果
1. 回到捕获窗口
2. 应该能看到捕获的请求
3. 如果还显示 "暂无捕获的请求"，查看控制台日志

## 🔍 调试信息

### 重要控制台日志
- `[API捕获器] Content script开始加载`
- `[API捕获器] 🎧 开始监听`  
- `[API捕获器] 🖱️ 检测到点击事件`
- `[API捕获器] fetch被调用`
- `[API捕获器] ✅ 捕获fetch请求`
- `[API捕获器] 🎯 捕获到API请求`
- `[API捕获器] 📋 请求数量: X`

### 如果没有看到请求
1. 检查是否真的开始了监听
2. 检查 content script 是否加载成功
3. 检查点击事件是否被捕获
4. 检查网络请求是否被拦截
5. 检查 background script 是否收到消息

## 📝 当前问题排查
如果显示 "暂无捕获的请求"，可能的原因：
1. Content script 没有正确加载
2. 网络请求拦截失败
3. 消息发送失败
4. Background script 处理失败
5. 数据没有正确返回到窗口 